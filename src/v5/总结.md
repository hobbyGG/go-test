http.Listen 用于监听端口

### Handler

http.Handler 是服务器处理，在这个案例中用结构体实现，该结构体有ServerHTTP方法，且内部为接口

- 内部为接口是为了方便测试
- serverHTTP方法是对应Handler(猜的)

`type Handler interface {
	ServeHTTP(ResponseWriter, *Request)
}`

和预想的一样，Handler是一个接口，实现了ServerHTTP这个方法

对于Handler还有一种http.HanderFunc()可以让普通func函数变成Handler

`httptest.NewRecorder`是一个response,传入Handler记录服务器在测试的时候传入了什么

http.NewRequest(methodGet,"", nil) 用于发送请求,中间这个字符串放空就是主页

### 接口，模拟和依赖注入

我们在PlayerStore存储用户数据上用了接口，只要测试和主程序实现了接口的方法就能使用，接口方便我们在测试和主程序间切换

模拟。在测试中使用了模拟的服务器

`// 虚拟服务
server := &PlayerServer{&store}`

依赖注入：摆脱耦合